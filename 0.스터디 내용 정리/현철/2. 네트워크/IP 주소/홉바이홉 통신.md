# 홉바이홉 통신 (Hop-by-Hop Communication)
패킷이 목적지까지 한 번에 가는 것이 아니라, 중간에 있는 라우터들을 하나씩 거치면서 전달되는 방식

각 라우터는 자신이 알고 있는 다음 목적지(다음 홉, Next Hop)로 패킷을 넘겨주고 한 홉(Hop)씩 이동하며 목적지에 도달하는 방식이 홉바이홉 통신

## 용어
- Hop (홉): 하나의 라우터를 지나치는 단위
- Next Hop: 다음에 패킷을 넘겨줄 라우터의 IP 주소
- TTL(Time To Live): 최대 홉 수 (루프 방지용) → 홉을 지날 때마다 TTL 감소, 0이 되면 패킷 폐기

## 라우팅 테이블 (Routing Table)
라우터가 어떤 패킷을 어디로 보낼지 결정하는 표 (네트워크 지도)

홉바이홉 통신이 가능하려면, 각 홉(라우터)은 다음 홉으로 보낼 경로를 알아야 하고, 이 정보를 담고 있는 것이 바로 라우팅 테이블이다.
라우터는 패킷을 수신하면 자신의 라우팅 테이블을 참조해서 어느 인터페이스(포트)로, 어떤 다음 라우터로 보내야 하는가를 판단한다.

### 동작 흐름
1. 클라이언트가 패킷을 전송
2. 라우터는 자신의 라우팅 테이블을 조회
3. 다음 홉(Next Hop)을 결정
4. 패킷을 다음 라우터로 전달 (즉, 한 홉 이동)
5. 다음 라우터도 같은 방식으로 반복 → 이런 식으로 홉바이홉(Hop-by-Hop)으로 최종 목적지까지 전달됨

```text
클라이언트: 192.168.1.10
목적지: 8.8.8.8

패킷 → 라우터 A → 라우터 B → 라우터 C → 목적지
         ↑          ↑          ↑
     각 라우터는 라우팅 테이블을 사용해
     다음 홉을 결정
```

## 게이트웨이 (Gateway)
다른 네트워크와 연결해주는 출입구 역할. 즉, 내 네트워크를 벗어나 외부로 나가야 할 때 거치는 장치. 내 컴퓨터는 목적지가 같은 네트워크에 없으면, 첫 홉으로 기본 게이트웨이에 패킷을 넘긴다.

- 라우터는 게이트웨이 역할을 수행함
- 홈 네트워크 기준: 공유기 = 게이트웨이
- 게이트웨이를 통해 인터넷 접속이 가능함

### 기본 게이트웨이(Default Gateway)
내 네트워크에 없는 목적지 IP로 통신하려고 할 때,
기본적으로 사용하는 라우터의 주소
- 컴퓨터 설정에서 Default Gateway 항목 확인 가능
- 예: 192.168.0.1 (공유기 주소)

### 동작 흐름
1. 내 PC가 8.8.8.8로 패킷을 보내려고 함
2. 같은 네트워크에 해당 IP가 없다면 기본 게이트웨이에 패킷을 넘김 (첫 홉)
3. 라우터들의 홉바이홉 통신을 통해 최종 목적지까지 전달