# 패리티 비트 & 해밍 코드

컴퓨터 구조에서의 패리티 비트와 해밍 코드는 ‘어떻게’ 구현되고 작동하는지를 회로 및 레지스터 수준에서 다룹니다.

메모리에서의 오류 정정 코드 구현에서 사용되며, 특히 DRAM이나 캐시에서 비트 오류가 발생할 수 있기 때문에 이를 자동으로 검출하고 정정하기 위한 구조로 해밍 코드가 들어갑니다.

연산 과정에서도 오류를 검출하고 복구할 수 있도록 설계된 회로가 필요합니다.

이때 논리 회로 수준에서 해밍 코드 생성 및 오류 검출 로직을 활용할 수 있습니다.

## **패리티 비트(Parity Bit)**

**패리티 비트**는 데이터 전송이나 저장 중에 발생할 수 있는 **1비트 오류를 검출하기 위해 추가하는 비트**입니다.

가장 기본적이고 간단한 오류 검출 방식으로, 주요 특징은 아래와 같습니다.

- **원리:** 전송하려는 데이터 비트(예: 8비트)에 1비트(패리티 비트)를 추가해,
  전체 1의 개수를 짝수 혹은 홀수로 맞추는 방식입니다.
  - **Even Parity(짝수 패리티):** 전체 1의 개수가 짝수가 되도록 패리티 비트를 설정
  - **Odd Parity(홀수 패리티):** 전체 1의 개수가 홀수가 되도록 패리티 비트를 설정
- **동작 과정:**
  - **송신 측**: 데이터 비트의 1 개수를 세어, 지정 방식에 따라 패리티 비트(0 또는 1)를 생성한 뒤 데이터와 함께 전송한다.
  - **수신 측**: 받은 데이터와 패리티 비트의 1의 개수를 다시 합쳐서 올바른 짝수/홀수가 맞는지 검사한다. 불일치 시 1비트 오류를 검출할 수 있다.
- **한계:** 1비트 오류는 검출할 수 있지만, 2비트 이상 동시 오류나 정확한 오류 위치는 알 수 없습니다.

## **해밍 코드(Hamming Code)**

**해밍 코드**는 1비트의 오류 발생 위치까지 식별해 **정정(Correct)까지 가능한 오류 정정 코드(에러 정정 코드, ECC)** 입니다.

- **원리:** 원래 데이터 비트들 사이에 여러 개의 패리티 비트(검사 비트)를 적절한 비트 위치에 삽입합니다.
  각 패리티 비트는 특정 위치(이진수 인덱스)에 해당하는 데이터 비트들의 집합에 대한 패리티(짝수/홀수)를 담당합니다.
  - 예를 들어, 4비트 데이터면 최소 3개의 패리티 비트가 필요(7비트 해밍 코드).
- **동작 과정:**
  1. **코드 생성**: n비트 데이터에 k개의 패리티 비트를 추가하여 전체 (n+k)비트 전송.
  2. 각 패리티 비트는 자신의 집합에 해당하는 비트들의 패리티 값을 담당.
  3. **수신 측**: 각 패리티 비트에 해당하는 집합의 패리티 계산 → 불일치하는 패리티 비트 위치(이진수)를 지정하면 곧바로 그 비트가 오류 위치임을 알 수 있다.
  4. 오류가 발생하면, 해당 오류 비트를 바로 반전시켜 복구(정정)가 가능하다.
- **효과**: 1비트 오류는 정확히 검출 및 자동 정정이 가능합니다. 2비트 오류는 검출은 가능하나 정확한 정정은 불가.

## **예시**

- **패리티 비트**: 데이터 1010110
  - 짝수 패리티 추가 → 10101101 (원래 1이 4개→짝수, 패리티 1)
- **해밍 코드**: 데이터 1101
  - 예를 들어 7비트 해밍 코드로 P₁, P₂, D₁, P₃, D₂, D₃, D₄ (P=패리티, D=데이터),
    각 패리티 비트 위치와 담당하는 비트 집합에 따라 배치 및 계산[1](https://jehunseo.tistory.com/106)[2](https://velog.io/@jayy_19/%EC%BB%B4%ED).

<br/>
<br/>

> 참고
>
> - https://jehunseo.tistory.com/106
> - https://m.blog.naver.com/taeheon714/222193247285
> - https://velog.io/@jayy_19/%EC%BB%B4%ED%93%A8%ED%84%B0-%EA%B5%AC%EC%A1%B0-%ED%8C%A8%EB%A6%AC%ED%8B%B0-%EB%B9%84%ED%8A%B8-%ED%95%B4%EB%B0%8D-%EC%BD%94%EB%93%9C
