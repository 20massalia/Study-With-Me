# 동기와 비동기

## 동기(Synchronous)와 비동기(Asynchronous)란?

프로그래밍에서 동기와 비동기는 작업을 처리하는 방식의 차이를 나타내는 개념입니다.

동기와 비동기는 작업들이 시간을 맞춰 실행되는지에 대한 이야기이며, 블로킹과 논블로킹은 한 작업이 처리되는 동안 다른 작업도 처리될 수 있는지에 대한 이야기입니다.

동기와 비동기는 시간에, 블로킹과 논블로킹은 제어권에 집중하면 됩니다.

우선 동기와 비동기 중, 동기는 작업의 완료 여부를 확인한 후 순서대로 다음 작업을 처리하는 접근 방식입니다.

즉, 앞선 작업이 끝나야 다음 작업이 이루어집니다.

반대로 비동기는 작업의 완료 여부와 상관없이 바로 다음 작업을 수행하는 것으로, 여러 작업이 동시에 혹은 무작위의 순서로 처리될 수 있습니다.

<p align="center">
  <img src="../../image/동기비동기.png" alt="동기비동기" width="60%">
</p>

### 1. **동기 방식**

동기 방식에서는 작업이 반드시 순차적으로 수행됩니다.

예를 들어, 데이터베이스 쿼리를 실행하는 경우 동기적으로 명령을 내리면 결과가 반환될 때까지 프로그램은 기다리게 됩니다.

만약 기다리는 작업이 오래 걸리면 시스템 전체의 응답성이 떨어질 수 있고, 큰 트래픽이 발생하는 웹 애플리케이션에서는 동기 방식이 병목 구간이 되기도 합니다.

이처럼 동기 방식은 한 작업이 끝나야 다른 작업이 가능한 상황에서 자연스럽게 사용되지만, 대기 시간이 길거나 여러 작업을 동시에 처리해야 하는 상황에서는 비효율적일 수 있습니다.

### 2. **비동기 방식**

비동기는 이와 다르게, 작업의 결과를 기다리지 않고 바로 그 다음 작업으로 넘어갈 수 있습니다.

예를 들어 자바스크립트에서 네트워크 요청이나 파일 읽기 등의 I/O 작업을 비동기로 처리하면, 요청이 끝날 때까지 프로그램이 멈추지 않고 다른 일을 계속할 수 있습니다.

비동기가 특히 성능이 중요한 웹 애플리케이션에서 필수적으로 쓰이는 이유입니다.

### 3. **동기와 비동기의 코드 실행 순서**

동기 방식에서는 작업 A, B, C가 있다면 항상 A → B → C 순서대로 실행됩니다.

반면 비동기 방식에서는 응답 속도나 상황에 따라 A → C → B 처럼 순서가 달라질 수 있습니다.

예를 들어, 파일을 읽는 동기 함수는 파일의 내용이 모두 준비될 때까지 프로그램의 실행이 멈추지만, 비동기 함수는 파일 읽기는 시작하자마 곧바로 다음 코드가 실행되고, 나중에 파일 읽기가 끝나면 결과를 받아 후처리합니다.

<br/>

## 블로킹(blocking)과 논블로킹(non-blocking)

블로킹(blocking)과 논블로킹(non-blocking)은 컴퓨터 프로그래밍과 운영체제에서 작업 처리 중 실행 흐름이 어떻게 관리되는지를 나타내는 개념입니다.

이 두 용어는 작업이 수행되는 동안 호출한 작업이 다른 작업을 할 수 있는지 여부, 즉 제어권을 언제 반환받는지를 중심으로 설명할 수 있습니다.

<p align="center">
  <img src="../../image/블로킹.png" alt="블로킹" width="60%">
</p>

### 1. **블로킹 방식**

블로킹 방식은 호출된 작업이 완전히 끝날 때까지 호출자가 기다려야 하는 구조입니다.

예를 들어 어떤 함수가 실행되는 동안 그 함수가 끝날 때까지 제어권이 그 함수에 머물러 있으므로 호출자는 아무런 다른 작업도 수행하지 못하고 멈춰 있어야 합니다.

즉, 블로킹은 프로그램의 실행 흐름을 일시적으로 “멈추게” 만드는 특징이 있습니다.

이런 방식은 작업이 매우 짧고 간단할 때나, 결과를 바로 받아야 다음 단계 처리가 가능한 상황에 적절합니다.

그러나 처리 시간이 오래 걸리는 작업(예: 네트워크 통신, 파일 입출력 등)에서는 전체 시스템의 응답성을 저하시킬 수 있습니다.

<p align="center">
  <img src="../../image/논블로킹.png" alt="논블로킹" width="60%">
</p>

### 2. **논블로킹 방식**

반면 논블로킹 방식은 호출자가 작업 완료를 기다리지 않고 즉시 제어권을 돌려받아 다음 작업을 계속할 수 있습니다.

호출된 작업은 백그라운드에서 독립적으로 수행되며, 완료되면 호출자에게 결과를 알리는 방식으로 동작합니다.

이렇게 하면 프로그램은 한 작업이 느리게 실행되더라도 멈추지 않고 여러 작업을 동시에 진행할 수 있어 효율성과 반응성이 크게 향상됩니다.

---

자바스크립트에서는 대표적으로 `setTimeout`, Ajax 요청, `fetch` 함수들이 비동기이면서 논블로킹 방식으로 동작합니다.

예를 들어 `setTimeout`을 호출하면 백그라운드에서 타이머 작업이 시작되고, 메인 스레드는 멈추지 않고 곧바로 다음 코드를 실행합니다.

타이머가 완료되면 콜백 함수가 실행되어 결과 처리를 합니다.

이 과정에서 메인 스레드의 제어권은 즉시 반환되기 때문에 프로그램 전체가 멈추지 않고 유연하게 작업을 수행할 수 있습니다.

---

이처럼 블로킹과 논블로킹의 주요 차이는 ‘제어권’이 언제 호출자에게 돌아오느냐에 달려 있습니다.

블로킹은 작업이 완료되어야만 제어권이 반환되어 그 사이 호출자는 아무 일도 못 하지만, 논블로킹은 제어권을 바로 반환하여 호출자가 다른 작업을 계속 수행할 수 있는 구조를 의미합니다.

<br/>
<br/>

> 참고
>
> - https://inpa.tistory.com/entry/%F0%9F%91%A9%E2%80%8D%F0%9F%92%BB-%EB%8F%99%EA%B8%B0%EB%B9%84%EB%8F%99%EA%B8%B0-%EB%B8%94%EB%A1%9C%ED%82%B9%EB%85%BC%EB%B8%94%EB%A1%9C%ED%82%B9-%EA%B0%9C%EB%85%90-%EC%A0%95%EB%A6%AC
> - https://joooing.tistory.com/entry/%EB%8F%99%EA%B8%B0%EB%B9%84%EB%8F%99%EA%B8%B0-%EB%B8%94%EB%A1%9C%ED%82%B9%EB%85%BC%EB%B8%94%EB%A1%9C%ED%82%B9
