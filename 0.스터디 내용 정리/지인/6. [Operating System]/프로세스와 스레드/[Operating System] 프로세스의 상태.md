# 프로세스의 상태

<p align="center">
  <img src="../image/프로세스상태.png" alt="프로세스상태" width="60%">
</p>

실행되고 있는 각 프로세스는 고유의 상태(State)를 가지고 있고, 프로세스가 생성되어 종료될 때까지 일련의 상태 변화를 거치게 됩니다.

운영체제는 프로세스 스케줄링 전략을 통해 프로세스의 상태를 변경하여 관리하고 제어합니다.

<br/>

## 프로세스 상태 정리

1. **Created (생성)**

   프로세스가 처음 만들어지는 단계입니다. 커널이 PCB를 생성하고, 메모리 확보 같은 **초기화 작업을 진행**합니다.

2. **Ready (준비)**

   **메모리에 정상적으로 적재되어 CPU 할당만을 기다리는 상태**입니다. 사실상 준비는 다 됐고, 언제든 실행할 수 있는 상태입니다. CPU 스케줄러가 할당해주면 바로 실행(Running) 상태로 넘어갑니다.

3. **Running (실행 중)**

   말 그대로 **CPU를 할당받아 실제로 코드가 실행되고 있는 상태**입니다. 이 상태에서는 명령어를 하나하나 처리해 나갑니다.

4. **Blocked / Waiting (대기)**

   **실행 도중 I/O 요청이나 자원 요청 등으로, 당장은 CPU를 계속 사용할 수 없는 상태**입니다. 예를 들어, 디스크나 네트워크 응답을 기대랄 때 발생합니다. 이 상태에서 작업이 완료되면 다시 준비(Ready) 상태로 돌아갑니다.

5. **Terminated / Exit (종료 중 또는 종료됨)**

   **프로세스가 작업을 마치거나 오류로 인해 종료될 때 거치는 상태**입니다. PCB 삭제, 자원 반환 등 마무리 작업이 진행됩니다.

6. **Suspended (보류 상태)**

   메모리 상황이 여의치 않을 때, **프로세스를 디스크로 내보내는 스와핑(swap-out)을 통해 메인 메모리에서 제외하는 경우**가 있습니다. 이 상태를 Suspended Ready 또는 Suspended Blocked라고 부릅니다.

   - **Suspended Ready**: 준비 상태였던 프로세스가 메모리를 뺏기고 보류된 상태입니다.
   - **Suspended Blocked**: 대기 상태였던 프로세스가 메모리가 비워져 보류된 상태입니다.

   다시 메모리가 확보되면, 스왑인(swap-in)을 통해 원래 상태로 복귛바니다.

<br/>

## 프로세스 상태와 스케줄러의 관계

운영체제에서 **스케줄러(Scheduler)**는 한정된 CPU·메모리·I/O 자원을 여러 프로세스가 효율적으로 사용하도록 관리하는 역할을 합니다.

스케줄러는 크게 세 종류로 나뉘고, 각기 다른 시점에서 프로세스 상태 전환을 담당합니다.

### 장기 스케줄러(Long-Term Scheduler) – **작업 스케줄러**

- **언제 관여하나?**
  프로세스가 **Created(생성)** 상태에서 **Ready(준비)** 상태로 넘어갈 때 개입합니다.
- **역할**
  디스크에 대기 중인 작업들 중 어떤 것을 메모리에 올릴지 결정합니다.
  → 시스템의 **멀티프로그래밍 정도**(메모리에 동시에 올라가는 프로세스 수)를 조절합니다.
- **비유**
  놀이공원 입구에서 **“몇 명만 공원에 들어가세요”** 하는 사람.

### 중기 스케줄러(Mid-Term Scheduler) – **스왑 스케줄러**

- **언제 관여하나?**
  메모리가 부족할 때, **Ready**나 **Blocked** 상태의 프로세스를 **Suspended** 상태로 보내거나, 반대로 복귀시킬 때 개입합니다.
- **역할**
  메모리 부하를 줄이고, CPU·I/O 사용률을 균형 있게 맞춥니다.
  **Suspended Ready** ↔ **Ready**, **Suspended Blocked** ↔ **Blocked** 전환을 담당합니다.
- **비유**
  놀이공원 안이 너무 붐빌 때, 몇 명을 잠시 밖으로 내보냈다가, 한가해지면 다시 들이는 관리자.

### 단기 스케줄러(Short-Term Scheduler) – **CPU 스케줄러**

- **언제 관여하나?**
  **Ready** 상태에서 어떤 프로세스가 **Running** 상태로 갈지 결정할 때 개입합니다.
- **역할**
  CPU를 어떤 프로세스에 얼마 동안 줄지 결정합니다.
  → 여기서 **스케줄링 알고리즘**(FCFS, SJF, Round Robin, Priority 등)이 적용됩니다.
- **비유**
  놀이기구 줄에서 “다음에 탈 사람”을 정해주는 진행 요원.

<br/>
<br/>

> 참고
>
> - https://m42-orion.tistory.com/129
> - https://velog.io/@mingadinga_1234/%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EB%9E%80-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EC%9D%98-%EC%83%81%ED%83%9C
