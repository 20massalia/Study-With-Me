# 캐시 메모리 계층 구조

---

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2FbUTuwg%2FbtsPGFSYBgC%2FAAAAAAAAAAAAAAAAAAAAAB_G_nvZT_-mX1keTdqtB4dBKahCAGlVztd3-E-SMLK7%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1756652399%26allow_ip%3D%26allow_referer%3D%26signature%3D85gEoCFCkk10M5sn5AssdDkF0Y0%253D)

## 1. 메모리 계층 구조 개요
- 메모리 계층 구조는 **속도**와 **용량** 간의 트레이드오프를 통해 비용과 성능을 최적화하기 위해 설계됨.
- **레지스터 → L1 Cache → L2 Cache → L3 Cache → 주기억장치(RAM) → 보조기억장치(SSD/HDD)** 순으로 구성.

---

## 2. 캐시 메모리의 역할
- CPU와 주기억장치 간의 속도 차이를 완화.
- **지역성(Locality)** 원리에 기반해 자주 사용되는 데이터/명령어를 빠르게 제공.

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2FbPTr04%2FbtsPEMlrse8%2FAAAAAAAAAAAAAAAAAAAAAAJFgvh94eI00d2W5AFrN3s1VhoeRrMdFB4tVDkINKWs%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1756652399%26allow_ip%3D%26allow_referer%3D%26signature%3DX%252B6BNfyG2xDRGOZfvJ4U6FazbuQ%253D)

---

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2Feyc7rt%2FbtsPE4e5133%2FAAAAAAAAAAAAAAAAAAAAANp4Je4cHE0KcHCmYFkRAqToGACyWT9pM0NqMPiMP83B%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1756652399%26allow_ip%3D%26allow_referer%3D%26signature%3DKkitLkrpb95MmKY%252ByHU7MAh5tOg%253D)

---

## 3. 캐시 레벨별 특성

| 레벨  | 위치            | 용량      | 접근 시간 (Latency) | 대역폭 (Bandwidth) | 연결성 (Associativity) |
|------|----------------|----------|--------------------|--------------------|------------------------|
| L1   | CPU 코어 내부  | 32~64KB   | ~1~3 사이클        | 매우 높음          | 4~8-way                |
| L2   | CPU 코어 내부  | 256KB~1MB | ~10 사이클         | 높음               | 8~16-way               |
| L3   | 코어 집합 또는 칩 전체 | 2~16MB  | ~20~40 사이클      | 중간               | 16~32-way              |

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2FCc8MR%2FbtsPIcPPtKn%2FAAAAAAAAAAAAAAAAAAAAAGId43bi_8QspMAu8BZ_MSzDpBg3zoyz8LeKTRAQamAQ%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1756652399%26allow_ip%3D%26allow_referer%3D%26signature%3DBrSYZkC63daiFwzddvJ5O6RMHzY%253D)

---

## 4. 캐시 조직 방식
- **Direct-Mapped Cache**: 각 메인 메모리 블록이 오직 한 위치에 매핑. 구현 간단, 충돌 발생 잦음.
- **Fully Associative Cache**: 메모리 블록이 캐시 내 아무 곳에나 적재 가능. 검색 비용 높음.
- **Set-Associative Cache**: N-way로 분할된 세트 내에서 매핑. 충돌과 비용의 균형.

---

## 5. 캐시 작동 원리
1. CPU가 주소를 요청 → 캐시 태그 비교.
2. **Hit**: 캐시에서 데이터 반환 (낮은 지연).
3. **Miss**: 주기억장치에서 블록을 가져와 캐시 적재 후 CPU에 반환.
4. **교체(Replacement)**: 필요 시 기존 블록을 **LRU**, **FIFO**, **Random** 등 알고리즘으로 제거.

---

## 6. 성능 지표
- **Hit Rate**: 전체 접근 중 캐시 적중 비율.
- **Miss Rate**: 전체 접근 중 캐시 미스 비율.
- **Miss Penalty**: 미스로 인한 추가 지연.
- **AMAT (Average Memory Access Time)**:  
  `AMAT = Hit Time + (Miss Rate × Miss Penalty)`

---

## 요약
- 캐시 메모리는 **메모리 계층 구조**의 핵심으로, 성능을 좌우하는 중요한 요소.
- 적절한 **크기**, **조직 방식**, **정책**을 통해 시스템 전체의 **처리 속도**를 극대화.