# 1. 뮤텍스 (mutex)

> 정의 : 공유된 자원의 데이터 혹은 임계영역(Critical Section) 등에
하나의 Process 혹은 Thread 가 접근하는 것을 막아줌 (동기화 대상이 하나)

> 임계구역을 가진 스레드들의 실행시간이 서로 겹치지 않고 각각 단독으로 실행하는 기술이다.

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2Fcvk7nh%2FbtrjvSw2BoX%2FAAAAAAAAAAAAAAAAAAAAAA9iF5UH4mnKOS0piBCOy-VVZZhJKk18cIHt3JhH_x1k%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1756652399%26allow_ip%3D%26allow_referer%3D%26signature%3DNpvDDKhXKBE1S82g8uz%252BQKNiq2o%253D)

### - 한 프로세스에 의해 소유될 수 있는 Key를 기반으로 한 상호배제 기법이고,
### Key에 해당하는 어떤 객체가 있으며, 이 객체를 소유한 스레드/프로세스만이 공유자원에 접근할 수 있습니다.
### - 다중 프로세스들의 공유 리소스에 대한 접근을 조율하기 위해 동기화(Synchronization) 또는 락(Lock)을 사용함으로써
### 뮤텍스 객체를 두 스레드가 동시에 사용할 수 없습니다

# 뮤텍스 예시

---

# 2. 세마포어 (Semaphore)

> 정의 : 공유된 자원의 데이터 혹은 임계영역 등에 여러 Process 혹은 Thread가 접근하는 것을 막아줌
(동기화 대상이 하나 이상)

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2FcYZOiu%2FbtrjvrzaimS%2FAAAAAAAAAAAAAAAAAAAAAHtr4M1GyNfHUSTY-xd5G07DB2a0TGELgm7mWdn5yBwT%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1756652399%26allow_ip%3D%26allow_referer%3D%26signature%3D6WONNbCGYB%252F9zKj3E%252Bkrimuk%252BYE%253D)

---

### - 사용하고 있는 스레드/프로세스의 수를 공통으로 관리하는 하나의 값을 이용해 상호배제를 달성한다.
### 공유 자원에 접근 할 수 있는 프로세스의 최대 허용치 만큼 동시에 사용자가 접근할 수 있으며, 각 프로세스는 세마포어의 값을 확인하고 변경할 수 있습니다.

### - 자원을 사용하지 않는 상태가 될 때, 대기하던 프로세스가 즉시 자원을 사용하고, 이미 다른 프로세스에 의해 사용중이라는 사실을 알게 되면, 재시도 전에 일정시간 대기해야 함

---

# 세마포어 예시

- 세마포어는 손님이 화장실을 좀 더 쉽게 이용할 수 있는 레스토랑이다. 세마포어를 이용하는 레스토랑의 화장실에는 여러 개의 칸이 있고
화장실 입구에는 현재 화장실의 빈 칸 개수를 보여주는 전광판이 있다고 가정.

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2FblVVtY%2FbtrjvsSoEge%2FAAAAAAAAAAAAAAAAAAAAAAD_Oq2CYaSlxwh-IJYr7ZbanaF6cGQ1LrIC6JVLNSNg%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1756652399%26allow_ip%3D%26allow_referer%3D%26signature%3Dic%252BHZlfxZl%252FFhky5U0WFxzo1DL4%253D)

- 만약 당신이 화장실에 가고 싶다면 입구에서 빈 칸의 개수를 확인하고 빈 칸이 1개 이상이라면 빈칸의 개수를 하나 뺀 다음에 화장실로
입장해야 하며 나올 때 빈 칸의 개수를 하나 더해 줌.

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2FbisfFs%2FbtrjBxldZt8%2FAAAAAAAAAAAAAAAAAAAAAAi_VWrivlumyHOmZlTUst5EexeP1uCwiQGMaRuSX-Gm%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1756652399%26allow_ip%3D%26allow_referer%3D%26signature%3DD5ka7N6j1%252BCyYQLoVO9vb0AOsY8%253D)

- 모든 칸에 사람이 들어갔을 경우 빈 칸의 개수는 0이 되며 이때 화장실에 들어가고자 하는 사람이 있다면
빈 칸의 개수가 1 혹은 양수로 바뀔 때까지 기다려야 합니다.
- 이처럼 세마포어는 공통으로 관리하는 하나의 값을 이용해 상호배제를 달성합니다. 세마포어는 아까와 똑같이
화장실에 공유자원이며 사람들이 **스레드, 프로세스**이다. 그리고 화장실 빈칸의 개수는 현재 공유자원에 접근할 수 있는 쓰레드, 프로세스의 개수를 나타냄.

## 차이점
### - 가장 큰 차이점은 동기화 대상의 개수 즉, 위에서 예시든 화장실의 갯수이다.

### - Mutext는 동기화 대상이 오직 1개일 때 사용, Semaphore는 동기화 대상이 1개 이상일 때 사용한다.
### - Mutex는 자원을 소유할 수 있고, 책임을 가지는 반면 Semaphore는 자원 소유가 불가함.
### - Mutex는 상태가 0, 1뿐이므로 Lock을 가질 수 있고, 소유하고 있는 스레드만이 이 Mutex를 해제할 수 있다. 반면 Semaphore는 Semaphore를 소유하지 않는 스레드가 Semaphore를 해제할 수 있다.

---

Reference : https://heeonii.tistory.com/14

