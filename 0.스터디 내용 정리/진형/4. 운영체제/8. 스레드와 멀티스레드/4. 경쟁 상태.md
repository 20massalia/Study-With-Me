# 경쟁 상태

> 정의 : 두 개 이상의 스레드 또는 프로세스가 공유 자원에 동시에 접근하고
수정을 시도할 대 발생 할 수 있는 문제
> 즉 병행 프로그래밍 또는 동시성 프로그래밍 환경에서 발생하는 문제로써, 스레드 간의 실행 순서가
예상과 다를 경우 의도와 다른 결과가 발생하며 프로그램의 정확성과 안정성을 저해하는 결과를 유발함

---

## 경쟁 상태가 발생하는 기본적인 원인
### 1. 동시성 접근 : 여러 스레드 도는 프로세스가 동시에 공유자원 (변수, 파일, 데이터베이스)에 접근하려 할 때 발생한다.
### 2. 비원자성(Non-atomic) 연산 : **공유 자원을 수정하는 연산**이 원자적이지 않을 경우, 즉 여러 단계로 나눠서 수행되는 경우 발생할 수 있다.
### **원자적** : 수행 도중 중단될 수 없는 하나의 동작 단위

### 아래 코드에서 두 스레드는 같은 변수의 값을 증가 시킴

```shell
int sharedNumber = 0;

// 스레드 1
sharedNumber++;
// 스레드 2
sharedNumber++;
```

### - 위 예시에서 스레드 1과 스레드 2는 동시에 sharedNumber를 읽고 수정하려고 시도할 수 있다.
### - 스레드 1, 스레드 2 모두 0으로 초기화된 sharedNumber에 1을 초기화 하려 하지만, 선행된 스레드 작업으로 인해 의도치 않은 결과값이 나온다.


Reference
https://turtledev.tistory.com/47