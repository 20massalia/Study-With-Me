# 프로세스의 메모리 구조

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2Fcf4DNz%2FbtqHR6kJkJL%2FAAAAAAAAAAAAAAAAAAAAAPgn74pGAniIJsLb208yoR7tGuRtJqWcNqHvIJ8fBEqo%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1756652399%26allow_ip%3D%26allow_referer%3D%26signature%3DOdTAd0zg8PQFuxa%252FI3DJFYhrANY%253D)

> 정의 : 그림과 같이, 프로그램이 실행되기 위해서는 운영체제(OS)가 프로그램의 정보를 메모리에 로드 해야 한다.
또한 프로그램이 실행되는 동안 CPU가 코드를 처리하기 위해서는, 메모리가 명령어와 데이터들을 저장해야 한다.

---
![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2FbSd1lI%2FbtqH2dJqR3X%2FAAAAAAAAAAAAAAAAAAAAAIETqbeF4kvegXJUawvSxB9Gr5aV9x3ZSixaEn3MeEKW%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1756652399%26allow_ip%3D%26allow_referer%3D%26signature%3DVgiPpXgfPxx60rKuWuQbVhMw1vg%253D)

- 프로그램이 운영체제로 부터 할당받는 대표적인 메모리 공간은 코드, 데이터, 힙, 스택 영역을 구성되어 있다.

## 1. 코드(code) 영역

- 코드 영역은 실행할 프로그램의 코드가 저장되는 영역. 텍스트 영역이라고 부른다
- CPU는 코드 영역에 저장된 명령을 하나씩 가져가서 처리하게 된다.
- 프로그램이 시작하고 종료될 때 까지 메모리에 계속 남아있는다.

---

## 2. 데이터(data) 영역

- 데이터 영역은 프로그램의 전역 변수와, 정적(static) 변수가 저장되는 영역이다.
- 프로그램의 시작고 함께 할당되며 프로그램이 종료되면 소멸함.

---
## 3. 힙(Heap) 영역
![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2Fbvm3fx%2FbtqHYIQTKk6%2FAAAAAAAAAAAAAAAAAAAAAOjTjdNqnRRv7kYLhFb5urlerX9jLtliHXZWaUJoOe-n%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1756652399%26allow_ip%3D%26allow_referer%3D%26signature%3Daq1hElVPWo%252FO6f1%252B%252BIQJkF6oC4Y%253D)

- 힙 영역은 프로그래머가 직접 공간을 할당, 해제하는 메모리 공간이다
- 힙 영역에서 malloc() 또는 new 연산자를 통해 메모리를 할당하고, free()를 통해 메모리를 해제함
- 힙 영역은 선입선출(FIFO, First-In First-Out)의 방식으로, 가장 먼저 들어온 데이터가 가장 먼저 인출 된다.
- 힙 영역은 **메모리의 낮은 영역에서 높은 주소 방향으로 할당되기 때문**

---
## 4. 스택(stack) 영역
![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2Fbvm3fx%2FbtqHYIQTKk6%2FAAAAAAAAAAAAAAAAAAAAAOjTjdNqnRRv7kYLhFb5urlerX9jLtliHXZWaUJoOe-n%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1756652399%26allow_ip%3D%26allow_referer%3D%26signature%3Daq1hElVPWo%252FO6f1%252B%252BIQJkF6oC4Y%253D)

- 스택 영역은 **프로그램이 자동으로 사용하는 임시 메모리 영역**
- 함수 호출 시 생성되는 지역 변수와 매개 변수가 저장되는 영역, 함수 호출이 완료되면 사라진다.
- 스택 영역에 저장되는 함수의 호출 정보를 스택 프레임(stack frame) 이라고 함
- 스택 영역에서 푸시로 데이터 저장, 팝으로 데이터를 인출한다.
- 스택 영역은 후입 선출(LIFO, Last-In-First-Out) 의 방식.
- 메모리의 높은 주소에서 낮은 주소의 방향으로 할당되기 때문

---
## 오버 플로우

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2FrBPSx%2FbtqHR6LRgIz%2FAAAAAAAAAAAAAAAAAAAAAB0Z2JKSx-39_70RoZFEXJ0iq7dbaHu2Gf28axOT0oMH%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1756652399%26allow_ip%3D%26allow_referer%3D%26signature%3DG0MwD5iB5wxW%252FCzfnx30wK7iG9k%253D)

- 말 그대로 **한정된 메모리 공간이 부족하여 메모리 안에 있는 데이터가 넘쳐 흐는 현상**
- 오버 플로우 종류 중에 **힙 오버 플로우, 스택 오버 플로우*가 존재함
- 힙 메모리는 위쪽 주소부터 할당되고, 스택은 메모리 아래쪽 주소부터 할당되기 때문에 각 영역이 상대 공간을  침범하는 일이 발생할 수 있다.
- 이때 힙이 스택을 침범하는 경우를 **힙 오버 플로우**라 하고, 스택이 힙을 침범하는 경우를 **스택 오버 플로우**라고 한다


Reference 
- https://all-young.tistory.com/17