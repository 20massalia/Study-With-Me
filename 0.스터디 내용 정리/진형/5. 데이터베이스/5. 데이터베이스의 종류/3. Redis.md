# Redis란?

## 개요
- **In-Memory DB** : 데이터를 디스크(HDD, SSD)가 아닌 **메모리(RAM)** 에 저장
- **고성능 Key-Value 저장소**
- 오픈 소스 기반의 **NoSQL**
- **용도** : DB, Cache, Message Queue, Shared Memory

👉 웹 서버의 부하를 줄이고, 빠른 데이터 제공 가능

---

## In-Memory란?
- 데이터를 **RAM(주기억장치)** 에 올려 사용하는 방식
- 디스크 I/O를 거치지 않으므로 **저장/조회 속도가 매우 빠름**
- ⚠ 단점:
    - 메모리 용량 초과 시 처리 불가
    - RAM 특성상 **휘발성** → 전원 꺼지면 데이터 유실

---

## Redis를 사용하는 이유
- 기존 DB는 데이터를 디스크에 직접 저장 (안정적, 하지만 **느림**)
- 사용자가 많아질수록 **디스크 접근으로 인한 부하 발생**
- 캐시 서버를 도입해 성능 향상 → **Redis가 캐시 서버 역할 수행**
- 같은 요청이 여러 번 들어올 때 Redis에 캐싱된 데이터를 바로 반환 → DB 부하 감소 & 서비스 속도 향상

---

## Redis의 특징
1. **Key-Value 구조**
2. **빠른 처리 속도** : 메모리 기반
3. **다양한 Data Type 지원 (Collection)**
    - 개발 편의성 ↑, 생산성 ↑
    - 예시: `Sorted-Set` → 빠르고 간단한 정렬 처리
4. **Persistence (백업 기능)**
    - 휘발성 보완을 위해 데이터 영구 저장 기능 제공
    - **AOF(Append Only File)** : 모든 write/update 연산 로그 기록
    - **RDB(Snapshotting)** : 메모리 상태 전체를 순간적으로 디스크에 저장
5. **클러스터링 및 복제 지원**
    - Redis Sentinel & Redis Cluster → 자동 파티셔닝
    - Master-Slave 구조로 여러 대의 서버에 분산 저장
6. **다양한 언어 지원**
7. **싱글 스레드 기반**
    - Race Condition(경쟁 상태) 거의 없음

---

## Race Condition이란?
- 공유 자원에 여러 프로세스/스레드가 동시에 접근할 때 발생
- 실행 순서/타이밍에 따라 결과가 달라질 수 있음
- 프로그램의 **일관성과 정확성 손상 위험**

### 예시
- 변수 X에 대해:
    - 스레드 A: `X = X + 1`
    - 스레드 B: `X = X - 1`
- A가 읽고 쓰기 전에 B가 실행되면 값이 덮어씌워짐

---

## 주의사항

### 1. 시간 복잡도
- 싱글 스레드 특성상 긴 연산이 들어오면 전체 서비스가 지연될 수 있음

### 2. 메모리 단편화
- RAM에서 메모리 할당/해제 반복 시 **조각난 빈 공간** 발생
- 실제 메모리 용량은 충분해도 연속된 공간 부족 → 성능 저하
- 심할 경우 프로세스 종료 위험  
  → 메모리 여유 있게 운영 필요

### 3. 주기적 모니터링
- 메모리 사용량 과도 시 성능 저하/장애 발생
- **모니터링 도구**로 지속적인 관리 필요

---

## RDBMS vs Redis 비교

| 구분 | RDBMS | Redis |
|------|-------|-------|
| **저장 방식** | 디스크(HDD/SSD) | 메모리(RAM) |
| **데이터 구조** | 테이블 (Row, Column) | Key-Value 및 다양한 자료구조 (List, Set, Sorted-Set 등) |
| **속도** | 디스크 I/O 기반 → 상대적으로 느림 | 메모리 기반 → 매우 빠름 |
| **일관성** | 강력한 일관성 보장 (ACID) | 기본적으로 휘발성, AOF/RDB로 영속성 보완 |
| **확장성** | 주로 Scale-Up (수직 확장) | Scale-Out (수평 확장) 지원, 클러스터링 용이 |
| **트랜잭션** | 복잡한 트랜잭션 지원 | 단순한 트랜잭션 지원 (MULTI/EXEC) |
| **활용 분야** | 전통적인 데이터 관리, 안정성 중시 시스템 | 캐싱, 세션 관리, 실시간 데이터 처리, 메시지 큐 |


Reference
- https://velog.io/@wnguswn7/Redis%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C-Redis%EC%9D%98-%ED%8A%B9%EC%A7%95%EA%B3%BC-%EC%82%AC%EC%9A%A9-%EC%8B%9C-%EC%A3%BC%EC%9D%98%EC%A0%90