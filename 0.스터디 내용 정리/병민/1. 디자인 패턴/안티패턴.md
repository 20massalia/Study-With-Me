## 안티 패턴 (Anti Pattern)

**안티패턴**은 실제로 많이 사용되는 패턴이지만, **비효율적이거나 비생산적인 패턴**을 의미합니다. 안티패턴은 **성능, 디버깅, 유지보수, 가독성** 등에 있어서 부정적인 영향을 줄 수 있기에 **지양해야 하는 패턴**입니다.

> 안티패턴은 **1995년 앤드루 케이니그**가 디자인 패턴을 참고하여 처음 사용한 말이다. 그리고 **3년 후 <안티패턴>이라는 책** 때문에 '안티패턴'이라는 용어가 널리 알려지게 되었다.

### 1. 개발 안티 패턴

1. **스파게티 코드** (Spaghetti Code)
   - **정의**: 구조 없이 복잡하게 얽힌 코드로 인해 유지보수, 디버깅이 어려운 코드
   - **문제점**: 가독성 저하, 새로운 요구사항 반영의 어려움
   - **예방 방법**: 코드를 모듈화하고 명확한 코딩 규칙 정의 및 표준 유지
2. **황금 망치** (Golden Hammer)
   - **정의**: 특정 도구나 기술에 익숙한 개발자가 모든 문제에 익숙한 도구를 적용하려는 경향
   - **문제점**: 최적의 기술 대신 익숙한 기술만 사용함으로써 성능 저하 및 비효율성 발생
   - **예방 방법**: 문제에 맞는 기술 탐색 및 새로운 도구와 패턴을 학습하는 열린 마음
3. **하드 코딩** (Hard Coding)
   - **정의**: 코드 내에 고정된 상수 변수를 활용해서 변경이 어려운 코드
   - **문제점**: 환경 변경이나 요구사항 변경 시 코드 수정 필요, 유지보수 어려움
   - **예방 방법**: 환경 변수와 설정 파일을 사용해 코드와 데이터를 분리

### 2. 아키텍처 안티 패턴

1. **계층 누수** (Leaky Abstraction)
   - **정의**: 하위 계층의 세부 구현이 상위 계층으로 누출되어 추상화가 깨지는 현상
   - **문제점**: 계층 간 결합도 증가, 캡슐화 원칙 위반
   - **예방 방법**: 명확한 인터페이스 정의, 계층 간 책임 분리
2. **중앙 집중식 허브 모델** (Hub and Spoke)
   - **정의**: 모든 데이터와 로직이 하나의 중앙 컴포넌트에 집중되는 구조
   - **문제점**: 단일 장애점 발생, 확장성 제한, 성능 병목
   - **예방 방법**: 분산 처리, 마이크로서비스 아키텍처 적용
3. **Big Ball of Mud**
   - **정의**: 명확한 구조나 아키텍처 없이 무질서하게 성장한 시스템
   - **문제점**: 유지보수 불가능, 새로운 기능 추가 어려움
   - **예방 방법**: 지속적인 리팩토링, 아키텍처 가이드라인 수립

### 3. 설계 안티 패턴

1. **몽키 패치** (Monkey Patch)
   - **정의**: 런타임 중에 기존 클래스나 모듈의 동작을 동적으로 변경하는 것
   - **문제점**: 예측 불가능한 부작용, 디버깅 어려움, 코드 이해도 저하
   - **예방 방법**: 상속이나 컴포지션 사용, 명시적인 확장 포인트 제공
2. **Lava Flow**
   - **정의**: 더 이상 사용되지 않지만 제거하기 어려워 남아있는 코드
   - **문제점**: 코드 복잡성 증가, 유지보수 비용 상승, 성능 저하
   - **예방 방법**: 정기적인 코드 정리, 사용되지 않는 코드 식별 도구 활용
3. **Boat Anchor**
   - **정의**: 프로젝트에 필요하다고 생각되어 추가되었지만 실제로는 사용되지 않는 기능
   - **문제점**: 불필요한 복잡성, 유지보수 부담, 리소스 낭비
   - **예방 방법**: YAGNI(You Aren't Gonna Need It) 원칙 적용, 기능 사용도 모니터링

### 4. 추가적인 안티 패턴

1. **복사 붙여넣기 프로그래밍** (Copy-Paste Programming)
   - **정의**: 기존 코드를 복사해서 약간 수정하여 새로운 기능을 구현하는 방식
   - **문제점**: 중복 코드 증가, 버그 전파, 유지보수 어려움
   - **예방 방법**: 함수화, 모듈화, 코드 재사용 패턴 적용
2. **신 객체 / 클래스** (God Object)
   - **정의**: 너무 많은 책임을 가진 거대한 클래스나 객체
   - **문제점**: 단일 책임 원칙 위반, 테스트 어려움, 결합도 증가
   - **예방 방법**: 단일 책임 원칙 적용, 클래스 분리, 책임 분산
3. **죽은 코드** (Dead Code)
   - **정의**: 더 이상 실행되지 않거나 도달할 수 없는 코드
   - **문제점**: 코드 복잡성 증가, 혼란 야기, 유지보수 비용 상승
   - **예방 방법**: 정적 분석 도구 사용, 정기적인 코드 정리, 코드 커버리지 측정

### 5. 프로젝트 관리 안티 패턴

1. **은 총알** (Silver Bullet)
   - **정의**: 복잡한 문제를 해결할 수 있는 만능 해결책이 있다고 믿는 것
   - **문제점**: 비현실적 기대, 잘못된 기술 선택, 프로젝트 실패 위험
   - **예방 방법**: 점진적 개선, 다양한 접근법 고려, 현실적 목표 설정
2. **기능 비대화** (Feature Creep)
   - **정의**: 개발 과정에서 계속해서 새로운 기능이 추가되는 현상
   - **문제점**: 일정 지연, 품질 저하, 복잡성 증가
   - **예방 방법**: 명확한 요구사항 정의, 변경 관리 프로세스 수립
3. **조기 최적화** (Premature Optimization)
   - **정의**: 성능 문제가 확인되기 전에 미리 최적화를 시도하는 것
   - **문제점**: 개발 시간 낭비, 코드 복잡성 증가, 실제 병목점 놓침
   - **예방 방법**: 프로파일링 후 최적화, 측정 가능한 성능 목표 설정

### 안티패턴 식별 및 해결 방법

1. **코드 리뷰**
   - 정기적인 코드 리뷰를 통해 안티패턴 조기 발견
   - 팀 간 지식 공유 및 모범 사례 전파
2. **리팩토링**
   - 지속적인 리팩토링을 통한 코드 품질 개선
   - 테스트 코드 작성 후 안전한 리팩토링 수행
3. **교육 및 가이드라인**
   - 코딩 스타일 가이드 및 아키텍처 원칙 수립
   - e.g. 구글 코드 컨벤션..

### 요약

안티패턴은 **단기적으로는 빠른 해결책처럼 보이지만 장기적으로는 더 큰 문제를 일으키는** 패턴들입니다. **지속적인 코드 리뷰, 리팩토링, 그리고 모범 사례 학습**을 통해 안티패턴을 예방하고 **좋은 코드베이스를 유지**하는 것이 중요합니다.

#### Reference

- https://sourcemaking.com/antipatterns
- https://goodsharp.tistory.com/699