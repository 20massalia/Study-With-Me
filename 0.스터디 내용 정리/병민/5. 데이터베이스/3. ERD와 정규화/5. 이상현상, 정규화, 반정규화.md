# 이상현상, 정규화, 반정규화

정규화는 함수적 종속성 등의 이론을 사용하여 관계형 스키마를 더 작은 속성의 집합으로 분해해 효율적인 스키마로 만드는 과정입니다. 정규화된 데이터 모델은 일관성, 정확성, 단순성, 비중복성, 안정성을 보장합니다.

## 1. 이상현상(Anomaly)

정규화를 거치지 않은 데이터베이스 내의 데이터들이 불필요하게 중복되어 릴레이션 조작 시 예상치 못한 문제가 발생하는데 이를 이상(Anomaly)이라고 합니다. 이상현상의 종류에는 삽입 이상, 삭제 이상, 갱신 이상이 있습니다.

- **삽입 이상(Insertion Anomaly)**: 릴레이션에 데이터를 삽입할 때 의도와는 상관없는 값들도 함께 삽입되는 현상입니다.
- **삭제 이상(Deletion Anomaly)**: 릴레이션에서 한 튜플을 삭제할 때 의도와는 상관없는 값들이 연쇄적으로 삭제되는 현상입니다.
- **갱신 이상(Update Anomaly)**: 릴레이션에서 튜플에 있는 속성값을 갱신할 때 일부 튜플의 정보만 갱신되어 정보에 모순이 생기는 현상입니다.

이러한 이상현상을 예방하기 위해 정규화를 진행합니다.

## 2. 정규화

![정규화](https://blog.kakaocdn.net/dna/bluCnc/btqT7VEOf04/AAAAAAAAAAAAAAAAAAAAANMDXPgBphRBTX-RDhAnD0SGASpg7sqetiDN2dY-145I/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1756652399&allow_ip=&allow_referer=&signature=94VeYBXPTpTZTqwEUq%2BCPLbHF5Q%3D)

정규화는 데이터의 중복을 최소화하고, 데이터의 무결성을 유지하기 위해 릴레이션을 분해하는 과정입니다. 주요 정규화 단계는 다음과 같습니다.

### 1차 정규화(1NF)

- 모든 속성의 값이 원자값(Atomic Value)이어야 합니다.
- 테이블의 각 컬럼이 하나의 값만을 가져야 하며, 반복되는 그룹이 없어야 합니다.

### 2차 정규화(2NF)

- 1차 정규화를 만족하고, 기본키가 아닌 모든 속성이 기본키에 대해 완전 함수적 종속이어야 합니다.
- 부분적 종속성을 제거합니다.

### 3차 정규화(3NF)

- 2차 정규화를 만족하고, 기본키가 아닌 모든 속성이 기본키에만 종속되어야 합니다.
- 이행적 종속성을 제거합니다.

### BCNF(Boyce-Codd 정규형)

- 모든 결정자가 후보키여야 합니다.
- 3차 정규화보다 더 엄격한 조건을 적용합니다.

정규화를 통해 데이터의 중복을 줄이고, 이상현상을 방지할 수 있습니다.

## 3. 반정규화

![반정규화](https://velog.velcdn.com/images/girgir/post/fd1ae4cc-bcc7-41c5-a37e-ad7edced171e/image.jpeg)

반정규화는 성능 향상이나 특정 요구사항을 위해 정규화된 테이블을 다시 합치거나 중복을 허용하는 과정입니다.

- 조회 성능을 높이기 위해 테이블을 합치거나, 중복 데이터를 허용할 수 있습니다.
- 반정규화는 데이터의 무결성 관리가 어려워질 수 있으므로 신중하게 적용해야 합니다.

즉, 반정규화는 정규화된 데이터 환경에서 특수한 목적성을 가지고 신중하게 적용해야합니다.

<img width="1317" height="711" alt="image" src="https://github.com/user-attachments/assets/7fc3f5b8-7a2a-41f0-9d2c-bec8aedad56d" />

## Reference

https://devinus.tistory.com/26
