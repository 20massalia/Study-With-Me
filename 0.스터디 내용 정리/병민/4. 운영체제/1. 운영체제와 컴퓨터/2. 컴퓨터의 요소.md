# 컴퓨터의 요소

컴퓨터 시스템의 구성요소는 각각 특화된 역할을 담당하며, 전체 시스템의 효율성·안정성을 위해 상호작용합니다. 

## 1. CPU(Central Processing Unit)

컴퓨터의 ‘두뇌’ 역할을 하는 핵심 부품으로 프로그램 흐름 제어 등 시스템 전반의 제어를 담당합니다.

ALU, CU, 레지스터 등으로 구성되어 있습니다.

## 2. 인터럽트(Interrupt)

![인터럽트1](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2FEugQV%2FbtrVuorj0o5%2FAAAAAAAAAAAAAAAAAAAAAH82175IZ8uyFI4WSuT0ZdgGdU4qs2frpaMPJR7dF4K6%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1756652399%26allow_ip%3D%26allow_referer%3D%26signature%3DHfAja2FFiWLOOrVtJ3mrRypOTes%253D)

인터럽트란 CPU가 처리 중인 일을 중단시켜, 예기치 않은 상황이나 입출력 요청 등 우선 처리해야 할 작업을 즉각적으로 실행하기 위해서 존재합니다.

예를 들어, CPU를 점유한 프로그램이 프린터에 명령을 내려 프린팅을 요청해야 하는 상황을 가정해보면.
만약, 프린터가 준비완료될 때까지 기다린다면 가장 비싼 자원인 CPU가 낭비되게 됩니다.
낭비를 막고 사용 효율을 높일 수 있는 방법은 프린터가 준비되면 CPU에게 준비됐음을 알리는 신호를 보내고, 그전까지 CPU는 다른 작업을 계속 수행하는 것인데 이것이 바로 인터럽트 메카니즘입니다.

이벤트가 발생하면, 해당 인터럽트 요청(IRQ)이 들어와 CPU의 현재 작업 상태를 저장하고 인터럽트 핸들러로 분기해서 처리합니다.

![인터럽트2](https://res.cloudinary.com/witspry/image/upload/witscad/public/content/courses/computer-architecture/template-of-isr.png)

위와 같은 인터럽트는 두 가지 종류가 있습니다.

- 하드웨어 인터럽트: 외부장치에서 발생
  - 전원 이상 인터럽트 : 정전, 파워 이상 등
  - 기계 착오 인터럽트 : CPU의 기능 오류
  - 외부 신호 인터럽트 : 타이머, 키보드로 인터럽트 키를 누른 경우(Window에서 Control + Alt + Delete) 등
  - I/O 컨트롤러 인터럽트 등
- 소프트웨어 인터럽트(Trap): 소프트웨어 명령어
  - 프로그램이 커널 함수를 호출(시스템 콜)하는 경우
  - Exception이 발생한 경우 (나누기 0 등)

## 3. DMA 컨트롤러 (Direct Memory Access Controller)

![DMA](https://media.geeksforgeeks.org/wp-content/uploads/20250417112714089270/DMA_.webp)

DMA는 입출력 장치와 메모리 간의 대용량 데이터 이동을 CPU의 직접 관여 없이 자동으로 처리하는 전용 하드웨어 장치입니다

### DMA 컨트롤러 동작과정

1. I/O 장치가 DMA 컨트롤러에 데이터 전송 요청
2. DMA가 메모리 장치간 직접 블록단위 데이터 전송
3. 전송 완료 후 인터럽트로 CPU에 알림

이러한 동작과정을 통해서 불필요한 CPU의 개입을 막아 CPU가 다른 작업을 할 수 있도록 합니다.
보다 빠른 I/O 작업이 가능하기 때문에 대용량 데이터 전송에 적합합니다.

## 4. 메모리(Memory, RAM)

데이터를 임시적으로 저장하는 공간(RAM, DRAM 등)으로, 실행 중인 프로그램, 현재 처리 중인 데이터, 임시 결과 등을 보관하는 용도입니다.

휘발성이라는 특성이 존재하지만, 보조기억장치보다 빠른 읽기, 쓰기 속도를 제공합니다.

## 5. 타이머(Timer)

타이머는 OS 또는 하드웨어가 프로세스 실행 시간의 제한, 정기적인 이벤트 발생 등을 위해 사용하는 카운트다운 장치입니다.

### 타이머 동작과정

1. 특정 시간 카운트를 시작
2. 목표 시간에 도달하면 CPU에 인터럽트를 발생
3. 작업 제어권을 운영체제로 회수

이러한 타이머를 사용하는 이유는 프로세스가 CPU를 너무 오래 점유하지 않도록 제한하고, 정해진 시간마다 이벤트를 실행시켜야 하는 작업이 있기 때문에 타이머를 사용합니다.

예시로는 OS가 타이머 값을 설정한 후, 클록 주기 마다 감소되어 0이 되면 인터럽트가 발생해 타이머와 연동된 이벤트를 실행할 수 있습니다.

## 6. 디바이스 컨트롤러(Device Controller)

디바이스 컨트롤러는 각 I/O 장치(디스크, 프린터, 네트워크 등)마다 존재하는 제어용 하드웨어. 디바이스와 컴퓨터 간에 데이터를 주고받고 장치 구체 동작을 담당합니다.

주요기능으로는 데이터 송수신(입출력) 제어, 로컬 버퍼 메모리 사용(임시 저장용) 그리고 상태 레지스터(control, status register)로 명령 및 상태 감시를 담당합니다.

즉, 디바이스 컨트롤러는 I/O 장치의 실제 동작 관리 및 데이터 전달 담당합니다.

## Q&A

### Polling 방식이란?

폴링 방식은 언터럽트 처리와 대조되는 기법으로, CPU가 반복적으로 디바이스나 장치의 상태를 질의하는 방법입니다.
인터럽트 방ㅅ힉보다 구조가 단순하고 구현이 쉽지만, CPU 자원을 지속적으로 소모합니다.

### 동시에 두 개 이상의 인터럽트가 발생하면?

1. 우선순위(Priority) 처리: 대부분의 CPU/운영체제는 각 인터럽트에 우선순위를 할당합니다. 더 급한 인터럽트를 먼저 처리합니다.
2. 인터럽트 네스팅(Nesting): 한 인터럽트가 처리 중일 때, 더 높은 우선순위의 인터럽트가 들어오면 "현재 ISR을 잠시 멈추고" 상위 인터럽트의 처리로 전환 후 복귀합니다.
3. 큐잉(Queuing)/순차 처리: 우선순위가 동일하면 순서대로 대기(Queue)에 쌓았다가 하나씩 ISR 실행합니다.

## Reference

https://witscad.com/course/computer-architecture/chapter/cpu-interrupts-and-interrupt-handling
https://hellominchan.tistory.com/378
https://www.geeksforgeeks.org/computer-organization-architecture/direct-memory-access-dma-controller-in-computer-architecture/