# IP 주소 체계

> IP 주소는 네트워크에서 각 장치의 고유 식별자 역할 <br>
데이터가 목적지에 도달할 수 있도록 논리적 주소를 부여하는 방식

## IPv4

|항목|설명|
|--|--|
|길이|32비트 주소|
|형식|xx.xx.xx.xx (4개의 8비트 = 32비트)
|총 개수| 총 43억 개 (2^32)

하지만 주소 고갈 문제가 발생되고 있어, 비트 수를 늘린 IPv6 등장

## IPv6

|항목|설명|
|--|--|
|길이|128비트 주소|
|형식|xxxx.xxxx.xxxx.xxxx.xxxx.xxxx.xxxx.xxxx (16개의 8비트 = 128비트)
|총 개수| 사실상 무한대 (2^128)

사실상 무한대의 장치를 나타낼 수 있기 때문에, NAT가 불필요하고 IPsec(보안)과 자동 네트워킹 기능 존재

## DHPC (Dynamic Host Configuration Protocol)

|항목|설명|
|--|--|
|역할|IP 주소 자동 할당 프로토콜|
|대상|PC, 스마트폰, IoT 등|
|기능|IP주소, 서브넷 마스크, 게이트웨이, DNS 자동 설정|
|장점|수동 설정 필요 없음, 관리 용이|
|단점|재부팅 시 IP가 바뀔 수 있음 (임시 IP)

## NAT (Network Address Translation)

|항목|설명|
|--|--|
|역할|사설 IP <-> 공인 IP 변환|
|목적|IPv4 주소 절약, 보안 강화|
|장소|일반적으로 가정용 공유기 또는 라우터|
|방식|내부 네트워크는 192.168.x.x 같은 사설 IP 사용, 라우터가 공인 IP로 변환 후 외부와 통신|


---
# IP + DHCP + NAT

* 외부에서는 공인 IP(`203.0.113.10`)을 사용하지만 NAT을 통해 사설 IP(`192.168.0.x`) 할당
* DHCP 서버로 내부 장치들에게 IP 자동 할당
* 라우터를 게이터웨이 삼아 인터넷 접속
* NAT가 외부 통신 시 모두 `203.0.113.10`으로 변환 후 요청

```less
[인터넷]
    |
[공인 IP: 203.0.113.10]
    |
[라우터 (NAT + DHCP)]
 ┌───────────────┐
 │ NAT 기능:     │  내부 ↔ 외부 IP 변환
 │ DHCP 서버:    │  내부 장치에 IP 자동 할당
 └────┬──────────┘
      |
─────────────────────────────── (사설 네트워크: 192.168.0.0/24)
      |
 ┌────────────┬────────────┬────────────┐
 │            │            │            │
▼            ▼            ▼            ▼
[PC1]        [PC2]        [스마트폰]    [프린터]
192.168.0.2  192.168.0.3  192.168.0.4   192.168.0.5
(Gateway: 192.168.0.1)

```

향후 네트워크는 IPv6 구조로 변환함에 따라 IPv6 기반 + DHCPv6 + NATless 구조로 점차 이동하고 있음.