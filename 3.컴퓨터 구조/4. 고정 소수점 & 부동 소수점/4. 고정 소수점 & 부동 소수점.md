## 고정 소수점 & 부동 소수점

---

## 1. 고정 소수점 표현 방식

> 고정소수점 표현 방식이라는 것은 쉽게 말해 위에서 설명한 방법대로 10진수를 2진수로 바꿨으면,
그걸 그대로 박아넣는 방식.

- 예를 들면 7.625 라는 실수가 있다고 치면, 2진수로 변환하면 111.101이 될것이다.

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F998D03435C920B7718)

- 16비트 체계를 쓴다고 가정한다.
맨 앞 1자리는 부토 비트 (Sign Bit) 라고 해서 0이면 양수, 1이면 음수라는 뜻.
나머지 비트들은 소수점을 기준으로 정수부랑 소수부를 표현하는 비트로 각각 나누게 되는데, 소수점의 위치는 미리 정해둔다.
소수부의 경우 앞에서부터 채우며 남는 뒷자리는 다 0으로 채움

- 이러한 고정소수점 방식은 구현하기 편리하지만 사용하는 비트 수 대비 표현 가능한 수의 범위 또는 정밀도가 낮기 때문에 실수를 다룰 필요가 있는
범용 시스템에서는 거의 안쓰이고, 높은 정밀도가 필요없는 소규모 시스템에서는 간혹 쓰이기도 한다고 함.

## 2. 부동소수점 (Floating Point) 표현 방식

- 부동소수점 표현 방식에서는 2진수로 변환한 결과를 그대로 박아넣지 않고 몇 가지 과정을 추가로 거친다.

- ## 정규화 (Normalization)
  - 정규화라는 단어는 수학이나 컴퓨터 분야에서 다양한 의미로 쓰이지만 여기서 말하는 정규화라는 것은 2진수를
  - 1.xxxx... * 2^n
  - 꼴로 변환하는 것을 말한다.

  - 변환하는 방법은 간단한데, 정수부에 1만 남을 때까지 소수점을 왼쪽 (*정수부가 0일 경우엔 오르쪽. 아래쪽에서 다시 설명) 
    으로 **이동**시키고 이동한 칸 수만큼 n자리에 집어넣으면 된다.
  - 예를 들어서 위에서 봤던 111.101을 정규화하면 1.11101 * 2^2 가 된다.

- **IEEE 754 부동소수점 표현**
  - IEEE 표준에 따르면 부동소수점 방식으로 실수를 저장하는 데는 32비트, 또는 64비트가 사용되며 32비트 기준으로 아래 그림과 같은 구조를 가진다.

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F99A5004C5C920A0634)
    
  - 부호 비트는 고정소수점에서와 마찬가지로 0이면 양수, 1이면 음수를 의미한다.23자리 가수부는 정규화 결과 소수점 오른쪽에 있는 숫자들을 왼쪽부터 그대로 넣으면 된다. 
  - 남는 자리는 0으로 채운다.(참고: 소수점 왼쪽은 정규화를 하면 무조건 1이기 때문에 신경쓰지 않고 표현도 안 하는데, 이 1을 hidden bit라고 부르기도 한다)
    
  - 남은건 8자리짜리 지수부인데, 일단 '지수' 부라는 이름으로 봤을 땐 2^n에서 n에 해당하는 수, 그러니까 예시에서는 2를 2진수로 바꾼 '10' 을 넣으면 될 것 같다.
  - 근데 IEEE 표준에 따르면 저 부분에는 지수를 그대로 박아넣는게 아니라, 'bias' 라고 하는 지정된 숫자를 더한 다음 넣어야 한다.

  - IEEE 표준에서 32비트를 쓰는 경우 bias는 127이라고 규정하고 있다. 따라서 2 + 127 = 129를 2진수로 바꾼 10000001이 들어간다.결론적으로 7.625는 컴퓨터에서 아래와 같이 저장된다.

  ![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F99B8704C5C920A0728)

  - 이 bias라는 값을 왜 쓰냐면, 지수가 음수가 될 수도 있어서 그렇다.
  - 예를 들면 0.000101이라는 이진수가 있다 치자. 정규화에 대해서 설명할 때 정수부를 1로 만들어야 한다고 했다. 
  - 그러니까 왼쪽이 아니라 오른쪽으로 소수점을 밀어서 1.01 * 2^-4가 된다.
  - 만약에 bias가 없어서 위에서 2를 그냥 00000010으로 저장했다고 생각해보자. -4는 어떻게 저장할래? 부호 비트는 지수의 부호를 뜻하는게 아니라 전체 숫자의 부호를 뜻하는 거라서 이거랑 상관이 없다.
  - 그렇다고 지수용 부호 비트를 하나 더 만들자니 이것대로 복잡하다. 그래서 8자리를 가지고 음수랑 양수를 둘 다 표현하자니, (10진수 기준으로) 0~127 구간은 음수, 128~255 구간은 양수를 표현하도록 만든 것이다.
  